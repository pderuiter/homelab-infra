apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-services
  namespace: homepage
  labels:
    app.kubernetes.io/name: homepage
data:
  services.yaml: |
    - Infrastructure:
        - Traefik:
            href: https://traefik.bsdserver.nl
            icon: traefik.png
            description: Ingress Controller
            widget:
              type: traefik
              url: http://traefik-metrics.traefik.svc:9100

        - Longhorn:
            href: https://longhorn.bsdserver.nl
            icon: longhorn.png
            description: Distributed Storage
            widget:
              type: longhorn
              url: http://longhorn-frontend.longhorn-system.svc:80

        - Vault:
            href: https://192.168.2.170:8200
            icon: vault.png
            description: Secrets Management
            ping: 192.168.2.170

        - MinIO:
            href: https://minio-console.bsdserver.nl
            icon: minio.png
            description: Object Storage

    - Monitoring:
        - Grafana:
            href: https://grafana.bsdserver.nl
            icon: grafana.png
            description: Dashboards & Visualization

        - Prometheus:
            href: https://prometheus.bsdserver.nl
            icon: prometheus.png
            description: Metrics Database
            widget:
              type: prometheus
              url: http://kube-prometheus-stack-prometheus.observability.svc:9090

        - Alertmanager:
            href: https://alertmanager.bsdserver.nl
            icon: alertmanager.png
            description: Alert Routing

        - Loki:
            icon: loki.png
            description: Log Aggregation
            widget:
              type: customapi
              url: http://loki-gateway.observability.svc:80/ready
              mappings:
                - field: status
                  label: Status
                  format: text

    - Applications:
        - Ghost:
            href: https://blog.bsdserver.nl
            icon: ghost.png
            description: Blog Platform

        - Gitea:
            href: https://gitea.bsdserver.nl
            icon: gitea.png
            description: Git Server

    - External:
        - Pangolin:
            href: https://pangolin.bsdserver.nl
            icon: cloudflare-zero-trust.png
            description: Tunnel Gateway (VPS)
            widget:
              type: traefik
              url: http://5.75.184.243:8082

    - Kubernetes:
        - Flux:
            icon: flux-cd.png
            description: GitOps Controller
            widget:
              type: customapi
              url: http://notification-controller.flux-system.svc:9090/metrics
              refreshInterval: 30000
              mappings:
                - field: status
                  label: Status
                  format: text
                  remap:
                    - value: "null"
                      to: Active
